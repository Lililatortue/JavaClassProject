package business;

import java.io.Serializable;

public class LigneDeCredit extends Compte implements Serializable {
	
	
	 
	private static final long serialVersionUID = 4004222500099680823L;
	private double limiteCredit;
	private double tauxInteret;
	 
	 
	 public LigneDeCredit(String numero, double solde, double limiteCredit, double tauxInteret) {
	        super(numero, solde);
	        this.limiteCredit = limiteCredit;
	        this.tauxInteret = tauxInteret;
	 }
	 
	 
	 @Override
	    public boolean retirer(double montant) {
	        double soldeDisponible = solde + limiteCredit;

	        if (montant <= soldeDisponible) {
	            solde -= montant;
	            return true;
	        } else {
	            System.out.println("Retrait refusÃ© : dÃ©passement de la limite de la ligne de crÃ©dit");
	            return false;
	        }
	 }
	 
	 
	 @Override
	    public void deposer(double montant) {
	        if (montant > 0) {
	            solde += montant; // remboursement automatique si solde < 0
	        }
	 }
	 
	 
	 // Applique les intÃ©rÃªts uniquement si le solde est nÃ©gatif (crÃ©dit utilisÃ©)
	 public void calculerInterets() {
	        if (solde < 0) {
	            double interets = Math.abs(solde) * (tauxInteret / 100);
	            solde -= interets;
	            System.out.println("IntÃ©rÃªts de " + interets + " appliquÃ©s Ã  la ligne de crÃ©dit " + numero);
	        } else {
	            System.out.println("Aucun crÃ©dit utilisÃ© | Aucun intÃ©rÃªt appliquÃ©");
	        }
	 }
	 
	 
	 @Override
	    public void afficherDetails() {
	        System.out.println("ðŸ“‰ Ligne de CrÃ©dit [NumÃ©ro: " + numero +
	                           ", Solde: " + solde +
	                           ", Limite: " + limiteCredit +
	                           ", Taux dâ€™intÃ©rÃªt: " + tauxInteret + "%" +
	                           ", Date ouverture: " + dateOuverture + "]");
	    }
	 
	 
	 
	// Getters
	    public double getLimiteCredit() {
	        return limiteCredit;
	    }

	    public double getTauxInteret() {
	        return tauxInteret;
	    }

	    // Setters
	    public void setLimiteCredit(double limiteCredit) {
	        this.limiteCredit = limiteCredit;
	    }

	    public void setTauxInteret(double tauxInteret) {
	        this.tauxInteret = tauxInteret;
	    }
	    
}
